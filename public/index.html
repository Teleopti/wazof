<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" ng-app="wazof">
<head>
    <meta charset="utf-8" />
    <title>wazof</title>
    <script src="javascripts/angular.min.js"></script>
    <style type="text/css">
        @media print {
            #non-printable {
                display: none;
            }

            #printable {
                display: block;
            }
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body ng-view ng-controller="main">
    <div id="non-printable">
        <form>
            <input type="text" name="employeeNumber" placeholder="My employee number" />
            <input type="text" name="employeeName" placeholder="My name" />
            <input type="month" name="month" placeholder="Month" />
            <input type="year" name="year" placeholder="Year" />

        </form>
        <button class="generate-report" ng-click="generateVacation()">Generate my vacation report</button>
        <button class="print-report hidden" ng-click="printVacation()">Print my vacation report</button>
    </div>

    <div id="printable">

    </div>

    <script type="text/javascript">
        var wazof = angular.module('wazof', []);
        wazof.controller('main', ['$scope', function ($scope) {

            $scope.generateVacation = function (e) {
                var number = document.querySelector('input[name="employeeNumber"]').value;
                var name = document.querySelector('input[name="employeeName"]').value;
                var month = document.querySelector('input[name="month"]').value;
                var year = document.querySelector('input[name="year"]').value;

                var docToPrint = document.createDocumentFragment();
                var content = document.createElement('div');

                var generated = '<table><th><tr><td>Name</td><td>Employee number</div></tr></th>' +
                '<tbody><tr><td>' + name + '</td><td>' + number + '</td></tr></tbody></table>';

                generated += '<table><th><tr><td>Month</td><td>Year</div></tr></th>' +
                '<tbody><tr><td>' + month + '</td><td>' + year + '</td></tr></tbody></table>';

                content.innerHTML = generated;

                docToPrint.appendChild(content);

                document.querySelector('#printable').appendChild(docToPrint);
                document.querySelector('.print-report').classList.remove('hidden');
            };

            $scope.printVacation = function (e) {
                window.print();
            }
        }]);
        


    </script>
</body>
</html>