<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" ng-app="wazof">
<head>
    <meta charset="utf-8" />
    <title>wazof</title>
    <script src="javascripts/angular.min.js"></script>
    <style type="text/css">
        @media print {
            #non-printable {
                display: none;
            }

            #printable {
                display: block;
            }
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body ng-view ng-controller="main">
    <div id="non-printable">
        <form>
            <input type="text" ng-model="employee.number" placeholder="My employee number" />
            <input type="text" ng-model="employee.name" placeholder="My name" />
            <input type="month" ng-model="employee.month" placeholder="Month" />
            <input type="year" ng-model="employee.year" placeholder="Year" />

        </form>
        <button class="generate-report" ng-click="generateVacation()">Generate my vacation report</button>
        <button class="print-report hidden" ng-click="printVacation()">Print my vacation report</button>
    </div>

    <div id="printable" class="hidden">
        <table>
            <thead><tr><td>Name</td><td>Employee number </td></tr></th>
            <tbody><tr><td ng-bind="employee.name"></td><td ng-bind="employee.number"></td></tr></tbody>
        </table>
        <table>
            <thead><tr><td>Month</td><td>Year</td></tr></th>
            <tbody><tr><td ng-bind="employee.month"></td><td ng-bind="employee.year"></td></tr></tbody>
        </table>
    </div>

    <script type="text/javascript">
        var wazof = angular.module('wazof', []);
        wazof.controller('main', ['$scope', function ($scope) {
            $scope.employee = {};
            $scope.vacation = {};
            $scope.generateVacation = function (e) {

                var docToPrint = document.createDocumentFragment();
                var content = document.createElement('div');

                var generated = '<table><th><tr><td>Name</td><td>Employee number</div></tr></th>' +
                '<tbody><tr><td>' + $scope.employee.name + '</td><td>' + $scope.employee.number + '</td></tr></tbody></table>';

                generated += '<table><th><tr><td>Month</td><td>Year</div></tr></th>' +
                '<tbody><tr><td>' + $scope.employee.month + '</td><td>' + $scope.employee.year + '</td></tr></tbody></table>';

                content.innerHTML = generated;

                docToPrint.appendChild(content);

                document.querySelector('#printable').classList.remove('hidden');
                document.querySelector('.print-report').classList.remove('hidden');
            };

            $scope.printVacation = function (e) {
                window.print();
            }
        }]);



    </script>
</body>
</html>